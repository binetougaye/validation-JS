<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajout de nouveaux produits</title>
  <style>
    .card-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .card {
      border: 1px solid #ccc;
      padding: 10px;
      width: 100%;
    }

    img {
      max-width: 100%;
      height: auto;
    }

    .card-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }

    button {
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="product-list" class="card-container"></div>

<form id="product-form">
  <label for="name">Nom du produit:</label>
  <input type="text" id="name" required>

  <label for="description">Description:</label>
  <textarea id="description" required></textarea>

  <label for="price">Prix:</label>
  <input type="number" id="price" step="0.01" required>

  <label for="photo">Sélectionner une image:</label>
  <input type="file" id="photo" accept="image/*" required>

  <button type="button" onclick="addProduct()">Ajouter</button>
</form>

<script>
var products = [
  {
    name: "Produit 1",
    description: "Talon long 9",
    price: 10000,
    photo: "./images/MAKET-600x600.jpg"
  },
  {
    name: "Produit 2",
    description: "Mini Talon",
    price: 10000,
    photo: "./images/sandales-a-talons-avec-lacets-600x600.jpg"
  },
  // Ajoutez d'autres produits
];

function displayProducts() {
  var productListDiv = document.getElementById("product-list");
  productListDiv.innerHTML = "";

  products.forEach(function(product, index) {
    var productDiv = document.createElement("div");
    productDiv.className = "card";
    productDiv.innerHTML = `
      <h2>${product.name}</h2>
      <p>${product.description}</p>
      <p>Prix: ${product.price} CFA</p>
      <img src="${product.photo}" alt="${product.name}">
      <div class="card-buttons">
        <button onclick="editProduct(${index})">Modifier</button>
        <button onclick="deleteProduct(${index})">Supprimer</button>
      </div>
    `;
    productListDiv.appendChild(productDiv);
  });
}

function addProduct() {
  var name = document.getElementById("name").value;
  var description = document.getElementById("description").value;
  var price = parseFloat(document.getElementById("price").value);
  var photoInput = document.getElementById("photo");
  var photo = photoInput.files[0];

  if (name && description && !isNaN(price) && photo) {
    var newProduct = {
      name: name,
      description: description,
      price: price,
      photo: URL.createObjectURL(photo)
    };

    products.push(newProduct);
    displayProducts();

    // Effacer les champs du formulaire après l'ajout
    document.getElementById("product-form").reset();
  } else {
    alert("Veuillez remplir tous les champs du formulaire.");
  }
}

function editProduct(index) {
  var newName = prompt("Entrez le nouveau nom du produit:", products[index].name);
  if (newName !== null) {
    products[index].name = newName;
    displayProducts();
  }
}

function deleteProduct(index) {
  var confirmDelete = confirm("Voulez-vous vraiment supprimer ce produit ?");
  if (confirmDelete) {
    products.splice(index, 1);
    displayProducts();
  }
}

displayProducts();
</script>

</body>
</html>
