<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des Catégories</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="Ajouts-de-nouvelles-catégories.css">
</head>
<body>
    <div class="container mt-5">
        <div id="category-list" class="row"></div>
        <div class="modal fade" id="productModal" tabindex="-1" role="dialog" aria-labelledby="productModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-md" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="productModalLabel">Produits</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="productModalBody">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fermer</button>
                        <button type="button" class="btn btn-danger" id="Load">Enregistrer</button>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-4"></div>
                </div>
            </div>
        </div>
        <div id="selected-products" class="mt-3"></div>
    </div>
    <script>
        var categories = [
        {name: "Baskets",
            products: [
                {
                 id:1,
                name: "Sneaker laker",
                image: "talonslacets/sneaker1.png" ,
                price:"7000 FCFA"
                    },
            {
                id:2,
                name: "Basket vert Fluo",
                image: "talonslacets/sneaker2.png" ,
                price:"7000 FCFA"

            },

            { 
                id:3,
                name: "Air Jordan", 
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"

            },

            { 
                id:4,
                name: "Bootleg",
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"
 
            },

            { 
                id:5,
                name: "Steve Madden",
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"

             },

            {  id:5,
                name: "bootleg",
                image: "talonslacets/sneaker6.png",
                price:"7000 FCFA"
 
            },
        ]
    },
    {name: "Scarpins",
            products: [
                {
                 id:1,
                name: "Sneaker laker",
                image: "talonslacets/scarpin1.png" ,
                price:"7000 FCFA"
                    },
            {
                id:2,
                name: "Basket vert Fluo",
                image: "talonslacets/scarpin2.png" ,
                price:"7000 FCFA"

            },

            { 
                id:3,
                name: "Air Jordan", 
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"

            },

            { 
                id:4,
                name: "Bootleg",
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"
 
            },

            { 
                id:5,
                name: "Steve Madden",
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"

             },

            {  id:5,
                name: "bootleg",
                image: "talonslacets/sneaker6.png",
                price:"7000 FCFA"
 
            },
        ]
    },
    {name: "Montres",
            products: [
                {
                 id:1,
                name: "Sneaker laker",
                image: "talonslacets/sneaker1.png" ,
                price:"7000 FCFA"
                    },
            {
                id:2,
                name: "Basket vert Fluo",
                image: "talonslacets/sneaker2.png" ,
                price:"7000 FCFA"

            },

            { 
                id:3,
                name: "Air Jordan", 
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"

            },

            { 
                id:4,
                name: "Bootleg",
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"
 
            },

            { 
                id:5,
                name: "Steve Madden",
                image: "talonslacets/sneaker2.png",
                price:"7000 FCFA"

             },

            {  id:5,
                name: "bootleg",
                image: "talonslacets/sneaker6.png",
                price:"7000 FCFA"
 
            },
        ]
    },
];



        function Categories() {
            var categoryList = document.getElementById("category-list");
            categories.forEach(function(category) {
                var newcategory = document.createElement("div");
                newcategory.className = "col-md-4 mb-4";
                newcategory.innerHTML = `
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">${category.name}</h5>
                            <button type="button" class="btn btn-danger" onclick="openProductModal('${category.name}')">Afficher Produits</button>
                        </div>
                    </div>
                `;
                categoryList.appendChild(newcategory);
            });
        }
        function openProductModal(categoryName) {
            var category = categories.find(c => c.name === categoryName);
            var modalBody = document.getElementById("productModalBody");
            modalBody.innerHTML = ""; 
            category.products.forEach(function(product) {
                var productCard = document.createElement("div");
                productCard.innerHTML = `
             <div class="d-flex justify-content-center align-items-center">
            <div>
              <img src="${product.image}" class=" mt-3 w-25" alt="">
              <h5>${product.name}</h5>
              <p>${product.price}</p>

            </div>
              <div class="form-check">
              <input class="form-check-input bg-danger" type="checkbox" value="" id="flexCheckChecked">
              </div>
            </div>      
                `;
                modalBody.appendChild(productCard);
            });
            var productModal = new bootstrap.Modal(document.getElementById('productModal'));
            productModal.show();
        }
        window.onload = function() {
            Categories();
        };

        const load = document.getElementById('Load');

        load.addEventListener('click', () => {
            const checkedProducts = [];
            const checkboxes = document.querySelectorAll('#productModalBody input[type="checkbox"]:checked');
            checkboxes.forEach((checkbox) => {
                const productCard = checkbox.closest('.d-flex');
                const productName = productCard.querySelector('h5').innerText;
                const productNoun = productCard.querySelector('p').innerText;
                const productImage = productCard.querySelector('img').src;

                checkedProducts.push({
                    name: productName,
                    image: productImage,
                    price: productNoun

                });
            });

            displaySelectedProducts(checkedProducts);
        });
        function displaySelectedProducts(products) {
            const selectedProductsDiv = document.getElementById('selected-products');
            selectedProductsDiv.innerHTML = '';
            products.forEach((product) => {
                const productCard = document.createElement('div');
                productCard.className = '';
                productCard.innerHTML = `
                        <img src="${product.image}" class="w-25" alt="">
                        <h5>${product.name}</h5>
                        <p>${product.price}</p>
                `;
                selectedProductsDiv.appendChild(productCard);
            });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>










